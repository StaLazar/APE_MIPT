# Описание проекта {#mainpage}

Sensalyzer - это консольное приложение для анализа данных с датчиков.

Данная программа может читать файлы данных, составленные в соответствии с
установленным протоколом информационного взаимодействия, и выводить по ним
статистику за определенный временной период.

Для успешной сборки проекта и продуктивной работы с приложением рекомендуется
ознакомиться с представленной ниже информацией.

## Сборка проекта

Сборку проекта можно осуществить с помощью утилиты [CMake](https://cmake.org/) или
[Make](https://www.gnu.org/software/make/).

### Утилита CMake

Для сборки проекта с помощью CMake на компьютере должны быть установлены поддерживаемые утилитой
[компилятор языка C](https://cmake.org/cmake/help/latest/manual/cmake-compile-features.7.html#supported-compilers)
и [система сборки](https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html).

Команда сборки проекта с помощью утилиты CMake следующая:

> `cmake -S <path-to-source> -B <path-to-build>`

> `<path-to-source>` - путь до корневого файла `CMakeLists.txt` проекта.
>
> `<path-to-build>` - путь до директории, куда будут записаны результаты сборки.

После успешной сборки исполняемый файл приложения Sensalyzer будет находиться по следующему пути: `path-to-build/apps/sensalyzer`.

### Утилита Make

Для сборки проекта с помощью Make на компьютере должен быть установлен компилятор языка C
(рекомендуется [GCC](https://gcc.gnu.org/)).

Команда сборки проекта с помощью утилиты Make следующая:

> `make -f <path-to-source>`

> `<path-to-source>` - путь до файла `Makefile` в корне проекта.

После успешной сборки исполняемый файл приложения Sensalyzer будет находиться в
автоматически созданной директории `build/` проекта.

## Руководство пользователя

Программа Sensalyzer может быть запущена в одном из следующих режимов:

> `sensalyzer` или `sensalyzer -h` - вывод общей информации и завершение работы.
>
> `sensalyzer -f <path-to-file>` - чтение файла `<path-to-file>` и вывод общей статистики.
>
> `sensalyzer -f <path-to-file> -t <year>[.<month>[.<day>[-<hour>[:<minute>]]]]` - чтение файла `<path-to-file>` и вывод статистики за указанный временной период.

Как можно видеть, приложение Sensalyzer поддерживает следующие ключи:

> `-h` - вывод общей информации о приложении с последующим завершением работы.
>
> `-f <path-to-file>` - указание анализируемого файла данных, составленного в соответствии с установленным протоколом информационного взаимодействия.
>
> `-t <year>[.<month>[.<day>[-<hour>[:<minute>]]]]` - указание временного периода для вывода статистики.

## Протокол информационного взаимодействия

Для успешного анализа файла данных он должен соответствовать следующим требованиям:

* Каждая элементарная запись с датчика должна быть расположена на новой строке.
* Каждая элементарная запись с датчика должна обладать следующей структурой:

> `ГОД;МЕСЯЦ;ДЕНЬ;ЧАС;МИНУТА;ЗНАЧЕНИЕ_ФИЗИЧЕСКОЙ_ВЕЛИЧИНЫ`

Пример файла данных, удовлетворяющего протоколу информационного взаимодействия:

> `2021;01;16;01;02;-47`
>
> `2021;01;16;01;03;-44`
>
> `2021;02;16;01;02;-10`
>
> `2021;02;16;01;03;-5`
>
> `2021;03;16;01;02;-3`
>
> `2021;03;16;01;03;2`

В случае отклонения данных от принятого стандарта программа Sensalyzer выведет на экран
соответствующее уведомление. При этом в сообщениях об ошибках приняты следующие аббревиатуры.

| **Аббревиатура** |                                     **Расшифровка**                                    |
|:----------------:|:--------------------------------------------------------------------------------------:|
| UTST             | "Unknown timestamp" - некорректная временная метка                                     |
| NSD              | "No suitable data" - нет данных, удовлетворяющих заданному временному периоду          |
| NVD              | "No valid data" - нет достоверных данных, удовлетворяющих заданному временному периоду |
